<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookies Handler About</title>
    <meta content="Cookies" name="Justin Prohaska">
    <link rel="stylesheet" href="assets/css/main.css" />

    <script>

        if (getCookie('authCookie') == null) {
            window.location.href = "cookieHandlingHome.html";
        }


        function getCookie(cookieName) {
            let cookieValue = null;
            let findCookie = document.cookie + ";";
            let findName = cookieName + "=";
            let endPos;
            if (findCookie.length > 0) {
                let beginPos = findCookie.indexOf(findName);
                if (beginPos != -1) {
                    beginPos = beginPos + findName.length;
                    endPos = findCookie.indexOf(";", beginPos);
                    if (endPos == -1)
                        endPos = findCookie.length;
                    cookieValue = findCookie.substring(beginPos, endPos);
                }
            }
            return cookieValue;
        }
        console.log(getCookie("counter"));


        function deleteCookies() {
            document.cookie = "counter=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.cookie = "priorURL=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.cookie = "authCookie=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        }
    </script>
     <style>
        a {
            border: 3px solid skyblue;
            background-color: aliceblue;
            border-radius: 25px;
            padding: 10px;
            
        }
      
        a:hover {
            background-color: lightblue;
        }

        #destroyCookies {
            border: 3px solid skyblue;
            background-color: aliceblue;
            border-radius: 25px;
            
        }

        #destroyCookies:hover {
            background-color: lightblue;
        }
          </style>


</head>

<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Main -->
        <section id="main">
            <header>
                <h1>About</h1>
                <h2>Cookie Handling</h2>
                <span class="avatar"><img src="images/cookie.jpeg" width="50%" alt="" /></span>
                <h1>Justin Prohaska</h1>
                <p><a href="cookieHandlingHome.html">Home Page</a></p>
                <p>Number of visits to home page:
                    <script>document.write(getCookie('counter'));</script>
                </p>
                <p>You came from: 
                    <script>document.write(getCookie('priorURL'));</script>
                </p>
                <p>

                    Cookie will expire: <span id="test"></span>
                </p>
                <input type="button" value="Destroy Cookies" id="destroyCookies" onclick="deleteCookies();">

            </header>


        </section>

        <!-- Footer -->
        <footer id="footer">
            <ul class="copyright">
                <li>&copy; Justin Prohaska</li>
            </ul>
        </footer>

    </div>

    <!-- Scripts -->
    <script>


        if ('addEventListener' in window) {
            window.addEventListener('load', function () { document.body.className = document.body.className.replace(/\bis-preload\b/, ''); });
            document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\.0)/) ? ' is-ie' : '');
        };
        let date = new Date();
        date.setDate(date.getDate() + 7);
        document.getElementById("test").innerHTML = date.toDateString();
    </script>

</body>

</html>